{% extends 'base.html' %}

{% block title %}Your Payments{% endblock %}

{% block content %}
<style>
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
  
    th, td {
      padding: 12px 15px;
      border: 1px solid #ddd;
      text-align: left;
    }
  
    th {
      background-color: #D2601A;
      color: white;
    }
  
    tr:nth-child(even) {
      background-color: #f9f9f9;
    }
  
    a.view-btn {
      color: #D2601A;
      font-weight: 600;
      text-decoration: none;
    }
    a.view-btn:hover {
      text-decoration: underline;
    }
  </style>
  

<h2 style="color:#D2601A; margin-bottom: 20px;">Your Payments</h2>

{% if payments %}
<table>
  <thead>
    <tr>
      <th>Payment Date</th>
      <th>Appointment Date</th>
      <th>Time</th>
      <th>Amount ($)</th>
      <th>Tax ($)</th>
      <th>Total Paid ($)</th>
    </tr>
  </thead>
  <tbody>
    {% for p in payments %}
    <tr>
      <td>{{ p.payment_date if p.payment_date else 'N/A' }}</td>
      <td>{{ p.appointment_date }}</td>
      <td>{{ p.appointment_time }}</td>
      <td>{{ "%.2f"|format(p.amount) }}</td>
      <td>{{ "%.2f"|format(p.tax) }}</td>
      <td><strong>{{ "%.2f"|format(p.total) }}</strong></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No payments found.</p>
{% endif %}
{% endblock %}
